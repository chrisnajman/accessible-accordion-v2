<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <script>document.documentElement.classList.remove('no-js')</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="An accessible nested accordion built with the 'details' element. The CSS enhances the accordion with a smooth height transition only when it's safe and supported. It uses modern CSS features with progressive enhancement in mind.">
    <title>Accessible Accordion V2 | Multiple</title>
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
    <link rel="manifest" href="./site.webmanifest">
    <link rel="stylesheet" href="./style.css">
    <script src="./index.js" type="module"></script>
</head>

<body class="flow">
    <div id="loader" class="loader"><span class="visually-hidden">The page is loading...</span></div>
    <span class="visually-hidden" aria-hidden="true" id="page-loaded"></span>
    <a href="#main-content" class="element-invisible element-focusable skip-link">Skip to main content</a>

    <div class="theme-toggler">
        <p class="light">Light<span class="visually-hidden"> theme inactive</span></p><button type="button"
            aria-pressed="true" aria-label="Toggle theme"><span></span></button>
        <p class="dark">Dark<span class="visually-hidden"> theme active</span></p>
    </div>

    <header class="header">
        <p class="h1">
            <a href="./index.html"><span class="visually-hidden">Link to Home page</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 6h2v2H4zm0 5h2v2H4zm0 5h2v2H4zm16-8V6H8.023v2H18.8zM8 11h12v2H8zm0 5h12v2H8z">
                    </path>
                </svg>
            </a>
            <span>Accessible Accordion V2</span>
        </p>
        <div id="primary-navigation" class="primary-navigation">
            <div class="hamburger-button-wrapper">
                <p>Menu</p>
                <button class="hamburger-button" id="hamburger-button" aria-controls="site-navigation"
                    aria-expanded="false">
                    <span id="btn-txt" class="visually-hidden">Expand menu</span>
                    <svg class="lines" viewBox="0 0 100 100">
                        <rect width="" height="" class="line
 top" y="28" x="10" rx="5"></rect>
                        <rect width="" height="" class="line
 middle" y="47" x="10" rx="5"></rect>
                        <rect width="" height="" class="line
 bottom" y="68" x="10" rx="5"></rect>
                    </svg>
                </button>
            </div>


            <nav id="site-navigation" class="menu-hidden">
                <ul>
                    <li><a href="./">Multiple (open)</a></li>
                    <li><a href="./multiple-closed.html">Multiple (closed)</a></li>
                    <li><a href="./nested.html" aria-current="page">Nested</a></li>
                    <li><a href="./single.html">Single</a></li>
                </ul>
            </nav>
        </div>
    </header>


    <main class="main container" id="main-content">

        <h1>Accordion (Nested)</h1>

        <div class="accordion">
            <details>
                <summary class="element">
                    <h2>Introduction</h2>
                </summary>
                <div class="summary-content element flow">
                    <p>These accessible accordions are built with the <code>details</code> element:</p>

                    <p>
                    <pre><code>
&lt;details&gt;
    &lt;summary&gt;
      Title
    &lt;/summary&gt;
    &lt;p&gt;
      Content...
    &lt;/p&gt;
&lt;/details&gt;
</code></pre>
                    </p>

                    <h3>Notes</h3>
                    <ul class="flow">
                        <li>To enable multiple accordions, add the <code>data-group</code> attribute, e.g.
                            <code>data-group="accordion"</code>. When any <code>&lt;details&gt;</code> in a group opens,
                            any others in the same group automatically close.
                        </li>
                        <li>Hardcode <code>open</code> on any <code>details</code> element to have that accordion
                            open on page load,
                            i.e. <code>&lt;details open&gt;</code>.</li>
                        <li>Accordions can be nested.</li>
                    </ul>
                </div>

                <div class="nested">
                    <details data-group="accordion">

                        <summary class="element">
                            <h3>Features</h3>
                        </summary>
                        <div class="summary-content element flow">
                            <ul class="flow">
                                <li><strong>Responsive-aware</strong>: Transitions are only applied on viewports wider
                                    than
                                    37.5rem (600px),
                                    avoiding
                                    layout issues caused by wrapped <code>summary</code> text on smaller screens.</li>
                                <li><strong>Respects user preferences</strong>: Honors
                                    <code>prefers-reduced-motion</code> to
                                    avoid animating
                                    for
                                    users who have motion reduction enabled.
                                </li>
                                <li><strong>Feature detection</strong>: Uses <code>@supports</code> to apply styles only
                                    if the
                                    browser supports
                                    the
                                    experimental <code>interpolate-size</code> property.</li>
                                <li><strong>Safe fallback</strong>: Older browsers that don't support modern syntax will
                                    ignore
                                    the transition
                                    block
                                    entirely, without affecting functionality.</li>
                            </ul>
                        </div>
                    </details>

                    <details data-group="accordion">

                        <summary class="element">
                            <h3>CSS Transition</h3>
                        </summary>
                        <div class="summary-content element flow">
                            <p>The CSS snippet enhances the accordions
                                with a smooth height transition - but only when it&#39;s safe and supported. It uses
                                modern CSS
                                features with
                                progressive enhancement in mind.</p>
                            <p>Styles are applied only when:</p>
                            <ul class="flow">
                                <li>The screen width is greater than <code>37.5rem (600px)</code>. (Note:
                                    <code>width</code> is
                                    modern range
                                    syntax.)
                                </li>
                                <li>The user has not requested reduced motion.</li>
                                <li>The browser supports the experimental <code>interpolate-size</code> property
                                    (some browsers may ignore this block if they don't support it).</li>
                            </ul>

                            <p>If the browser does support it, <code>interpolate-size</code> is applied globally with a
                                value of
                                <code>allow-keywords</code>. (his is a proposed property allowing height/width
                                interpolation on
                                elements
                                like &lt;details&gt;, which normally don't transition well.)
                            </p>
                            <p>This allows a transition from <code>height: [n]</code> to <code>height: auto</code>.</p>
                        </div>
                    </details>

                    <details data-group="accordion">
                        <summary class="element">
                            <h2>JavaScript</h2>
                        </summary>
                        <div class="summary-content element flow">
                            <ul>
                                <li><code>details.js</code>: Handles <code>&lt;details&gt;</code> accessibility and
                                    behavior.
                                    <ul>
                                        <li>Syncs <code>aria-expanded</code> between <code>&lt;summary&gt;</code> and
                                            <code>&lt;details&gt;</code>.
                                        </li>
                                        <li>Closes dropdowns when clicking outside navigation.</li>
                                        <li>Supports closing via the <code>Escape</code> key and restores focus.</li>
                                        <li>Implements grouped accordion behavior using the <code>data-group</code>
                                            attribute:
                                            when one <code>&lt;details&gt;</code> in a group opens, any others in the
                                            same group
                                            automatically close.</li>
                                    </ul>
                                </li>
                                <li><code>hamburger-button.js</code>: Toggles the mobile navigation menu.<ul>
                                        <li>Updates <code>aria-expanded</code> on the button.</li>
                                        <li>Switches between hidden/visible menu states.</li>
                                        <li>Updates the visually hidden text for screen readers.</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </details>

                    <details data-group="accordion">

                        <summary class="element">
                            <h3>Accessibility</h3>
                        </summary>
                        <div class="summary-content element flow">
                            <ul class="flow">
                                <li>The site is fully navigable using tab keys and up/down arrows.</li>
                                <li>ARIA attributes are dynamically added to the <code>details</code> element to signal
                                    whether
                                    it is
                                    open or
                                    closed.
                                </li>
                            </ul>
                        </div>
                    </details>

                    <details data-group="accordion">

                        <summary class="element">
                            <h3>Testing and Compatibility</h3>
                        </summary>
                        <div class="summary-content element flow">
                            <p>The application has been tested on the following platforms and browsers:</p>
                            <ul class="flow">
                                <li><strong>Operating System</strong>: Windows 10</li>
                                <li><strong>Browsers</strong>:<ul>
                                        <li>Google Chrome</li>
                                        <li>Mozilla Firefox</li>
                                        <li>Microsoft Edge</li>
                                    </ul>
                                </li>
                            </ul>
                            <h4>Device View Testing</h4>
                            <p>The layout and functionality have been verified in both browser and device simulation
                                views to
                                ensure
                                responsiveness
                                and usability.</p>
                        </div>
                    </details>

                    <details data-group="accordion">

                        <summary class="element">
                            <h3>How to Run</h3>
                        </summary>
                        <div class="summary-content element flow">
                            <ol>
                                <li>Clone or download the repository to your local machine.</li>
                                <li>Open the project folder and start a simple HTTP server (e.g., using
                                    <code>Live Server</code>
                                    in VS Code or
                                    Python&#39;s <code>http.server</code> module).
                                </li>
                                <li>Open the project in a modern browser (e.g., Chrome, Firefox, or Edge).</li>
                            </ol>
                        </div>
                    </details>

                </div>
            </details>
        </div>
    </main>

    <footer class="footer">
        <a href="https://github.com/chrisnajman/accessible-accordion-v2" target="_blank" rel="noopener noreferrer"
            class="external-link">
            GitHub Repository
        </a>
    </footer>

</body>

</html>